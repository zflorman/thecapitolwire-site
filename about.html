<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About | The Capitol Wire</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        h1, h2, h3, .serif { font-family: 'Merriweather', serif; }
        
        /* Interactive Step Connector */
        .step-connector::after {
            content: '';
            position: absolute;
            top: 2.5rem;
            left: 16%;
            right: 16%;
            height: 2px;
            background: #e2e8f0;
            z-index: 0;
        }
        
        /* Smooth fade for hover details */
        .hover-detail {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: all 0.4s ease-in-out;
        }
        .group:hover .hover-detail {
            max-height: 200px;
            opacity: 1;
            margin-top: 0.75rem;
        }
    </style>
</head>
<body class="text-slate-800 antialiased flex flex-col min-h-screen">

  <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur border-b border-slate-200 shadow-sm">
    <div class="max-w-[1600px] mx-auto px-6 py-2 flex items-center justify-between">
      <div class="flex items-center gap-4">
          <a href="/" class="font-bold text-blue-700 text-lg flex items-center gap-2 serif tracking-tight">
            <span aria-hidden="true">üèõÔ∏è</span> The Capitol Wire
          </a>
          <span class="hidden md:inline-block h-5 w-px bg-slate-200"></span>
          <span class="hidden md:inline-block text-xs font-semibold text-slate-500 uppercase tracking-wider">About</span>
      </div>
      <div class="flex items-center gap-4">
        <a href="/dashboard/" class="text-xs font-semibold text-slate-500 hover:text-blue-700 uppercase tracking-wide">Dashboard</a>
        <button class="text-xs font-bold bg-slate-900 hover:bg-slate-800 text-white px-5 py-2.5 rounded shadow-sm transition-colors" onclick="openModal()">
          Get Alerts
        </button>
      </div>
    </div>
  </nav>

  <header class="bg-white border-b border-slate-200 py-6 px-6 text-center">
      <div class="max-w-3xl mx-auto">
          <h1 class="text-2xl md:text-3xl font-bold text-slate-900 mb-2 leading-tight serif">
              About The Capitol Wire
          </h1>
          <p class="text-sm text-slate-600 font-light">
              Why I built an AI to read Congress so you don't have to.
          </p>
      </div>
  </header>

  <main class="flex-grow px-4 py-8">
    <div class="max-w-5xl mx-auto space-y-6">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm hover:border-blue-300 transition-colors">
                <div class="flex items-center gap-3 mb-3">
                    <div class="text-2xl">üí∏</div>
                    <h3 class="text-lg font-bold text-slate-900 serif">Why is this free?</h3>
                </div>
                <p class="text-slate-600 text-sm leading-relaxed">
                    Because I'm not trying to sell you a $20,000 subscription. The data is public, the hosting is cheap, and I had time on break to make it.
                </p>
            </div>
            <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm hover:border-blue-300 transition-colors">
                <div class="flex items-center gap-3 mb-3">
                    <div class="text-2xl">üõ†Ô∏è</div>
                    <h3 class="text-lg font-bold text-slate-900 serif">Why I built it</h3>
                </div>
                <p class="text-slate-600 text-sm leading-relaxed">
                    It honestly blew my mind there wasn't already an automated system to parse this instantly. We shouldn't have to manually hunt for information that is digitally available.
                </p>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm hover:border-blue-300 transition-colors">
                <div class="flex items-center gap-3 mb-3">
                    <div class="text-2xl">‚ö°</div>
                    <h3 class="text-lg font-bold text-slate-900 serif">A Force Multiplier</h3>
                </div>
                <p class="text-slate-600 text-sm leading-relaxed mb-3">
                    I don't want this bot to replace the Legislative Assistant. It's here to keep you from drowning.
                </p>
                <p class="text-slate-600 text-sm leading-relaxed">
                    Reading a bill and actually understanding its political impacts are two different things. AI is great at reading 800 pages in 30 seconds. This tool sets you up to succeed and gives you time to focus on strategy.
                </p>
            </div>
            <div class="bg-white p-6 rounded-lg border border-slate-200 shadow-sm hover:border-blue-300 transition-colors">
                <div class="flex items-center gap-3 mb-3">
                    <div class="text-2xl">üìã</div>
                    <h3 class="text-lg font-bold text-slate-900 serif">Automated Policy Briefs</h3>
                </div>
                <p class="text-slate-600 text-sm leading-relaxed mb-3">
                    I‚Äôve prompted the model to look for specific "staffer" concerns: effective dates, appropriations triggers, and procedural rules.
                </p>
                <p class="text-slate-600 text-sm leading-relaxed">
                    It outputs a comprehensive policy brief including executive summaries and page-cited verification guides, allowing you to instantly audit the claims against the source text.
                </p>
            </div>
        </div>

        <div class="pt-10">
            <div class="text-center mb-10">
                <h3 class="text-xl font-bold text-slate-900 serif">How It Works</h3>
                <p class="text-slate-500 text-xs uppercase tracking-widest mt-1">Hover over a step to see the logic</p>
            </div>
            
            <div class="relative hidden md:block step-connector mb-8"></div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 relative z-10">
                
                <div class="group bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-lg hover:border-blue-400 transition-all duration-300 cursor-default text-center relative bg-white">
                    <div class="w-12 h-12 mx-auto bg-slate-50 border border-slate-200 group-hover:bg-blue-50 group-hover:border-blue-200 rounded-full flex items-center justify-center text-lg font-bold text-slate-400 group-hover:text-blue-600 transition-colors mb-4">1</div>
                    <h4 class="font-bold text-slate-900 mb-1 group-hover:text-blue-700">Dual-Source Monitoring</h4>
                    <p class="text-xs text-slate-500 px-2 leading-relaxed">Scans official repositories every 60 seconds.</p>
                    
                    <div class="hover-detail bg-slate-50 rounded p-3 text-left border-t border-slate-100">
                        <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1">Technical Logic</p>
                        <ul class="text-[11px] text-slate-600 space-y-1 list-disc pl-3">
                            <li>Polls <span class="font-mono">docs.house.gov</span></li>
                            <li>Checks Majority Leader schedule</li>
                            <li>Redis hashing for state changes</li>
                        </ul>
                    </div>
                </div>

                <div class="group bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-lg hover:border-blue-400 transition-all duration-300 cursor-default text-center relative bg-white">
                    <div class="w-12 h-12 mx-auto bg-slate-50 border border-slate-200 group-hover:bg-blue-50 group-hover:border-blue-200 rounded-full flex items-center justify-center text-lg font-bold text-slate-400 group-hover:text-blue-600 transition-colors mb-4">2</div>
                    <h4 class="font-bold text-slate-900 mb-1 group-hover:text-blue-700">Gap Analysis Engine</h4>
                    <p class="text-xs text-slate-500 px-2 leading-relaxed">Compares schedules to identify hidden changes.</p>
                    
                    <div class="hover-detail bg-slate-50 rounded p-3 text-left border-t border-slate-100">
                        <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1">Technical Logic</p>
                        <ul class="text-[11px] text-slate-600 space-y-1 list-disc pl-3">
                            <li>Flags "Advance Notice" items</li>
                            <li>Extracts XML & PDF text</li>
                            <li>Parses "Added" timestamps</li>
                        </ul>
                    </div>
                </div>

                <div class="group bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-lg hover:border-blue-400 transition-all duration-300 cursor-default text-center relative bg-white">
                    <div class="w-12 h-12 mx-auto bg-slate-50 border border-slate-200 group-hover:bg-blue-50 group-hover:border-blue-200 rounded-full flex items-center justify-center text-lg font-bold text-slate-400 group-hover:text-blue-600 transition-colors mb-4">3</div>
                    <h4 class="font-bold text-slate-900 mb-1 group-hover:text-blue-700">Delivery & Sync</h4>
                    <p class="text-xs text-slate-500 px-2 leading-relaxed">Generates brief and broadcasts alerts.</p>
                    
                    <div class="hover-detail bg-slate-50 rounded p-3 text-left border-t border-slate-100">
                        <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1">Technical Logic</p>
                        <ul class="text-[11px] text-slate-600 space-y-1 list-disc pl-3">
                            <li>Generates stable DB IDs</li>
                            <li>Broadcasts via AWS SES</li>
                            <li>Upserts to Supabase</li>
                        </ul>
                    </div>
                </div>
                
            </div>
        </div>

        <div class="text-center pt-10 border-t border-slate-200 pb-8">
            <p class="font-bold text-slate-900 text-base serif">‚Äî Zachary Florman</p>
            <a href="mailto:zach@thecapitolwire.com" class="text-xs text-slate-400 hover:text-blue-600 transition-colors font-medium mt-1 inline-block">zach@thecapitolwire.com</a>
        </div>

    </div>
  </main>

  <footer class="bg-slate-50 border-t border-slate-200 py-6 text-center">
      <a href="/dashboard/" class="inline-block bg-blue-700 hover:bg-blue-800 text-white font-bold py-2 px-6 text-sm rounded shadow-sm transition-transform transform hover:-translate-y-0.5">
          View Live Dashboard
      </a>
  </footer>

  <div id="modal" class="hidden fixed inset-0 z-[100] items-center justify-center bg-slate-900/60 backdrop-blur-sm">
    <div class="w-[92%] max-w-md rounded-xl bg-white shadow-2xl border border-slate-200 p-6 relative">
      <button class="absolute right-4 top-4 text-slate-400 hover:text-slate-700 text-2xl leading-none" onclick="closeModal()" aria-label="Close">&times;</button>
      <h3 class="text-lg font-bold text-slate-900 serif">Get Instant Alerts</h3>
      <p class="mt-1 text-sm text-slate-600">Enter your email to get notified when the schedule or analysis updates.</p>
      <input id="modal-email" type="email" placeholder="Enter your email" class="mt-4 w-full rounded border border-slate-300 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
      <button id="modal-submit" class="mt-3 w-full rounded bg-slate-900 hover:bg-black text-white font-bold py-2.5 text-sm transition-all shadow-md">Subscribe Free</button>
      <div id="modal-status" class="mt-2 text-xs font-semibold min-h-[20px]"></div>
    </div>
  </div>

  <script>
      // SUPABASE SETUP (Matches your Dashboard)
      const SUPABASE_URL = 'https://jcrsdyyqrbtxyzhveszx.supabase.co';
      const SUBSCRIBE_KEY = "sb_publishable_oQOSOkFpJAPfmnINrAYYUg_FNMRBM1h";
      
      // Ensure Supabase is loaded
      let subscribeClient = null;
      if (window.supabase) {
          subscribeClient = supabase.createClient(SUPABASE_URL, SUBSCRIBE_KEY);
      } else {
          console.error("Supabase not loaded");
      }

      // MODAL LOGIC
      const modalEl = document.getElementById('modal');
      const modalEmail = document.getElementById('modal-email');
      const modalSubmit = document.getElementById('modal-submit');
      const modalStatus = document.getElementById('modal-status');

      function openModal() { 
          if(modalEl) { 
              modalEl.classList.remove('hidden'); 
              modalEl.classList.add('flex'); 
              if(modalEmail) modalEmail.focus(); 
          }
      }
      function closeModal() { 
          if(modalEl) { 
              modalEl.classList.add('hidden'); 
              modalEl.classList.remove('flex'); 
              if(modalStatus) modalStatus.textContent=""; 
              if(modalSubmit) { modalSubmit.disabled=false; modalSubmit.textContent="Subscribe Free"; }
          }
      }
      if(modalEl) modalEl.addEventListener('click', (e) => { if(e.target===modalEl) closeModal(); });

      if(modalSubmit && subscribeClient) {
          modalSubmit.addEventListener('click', async () => {
              const email = (modalEmail && modalEmail.value ? modalEmail.value.trim() : "");
              if(!email || !email.includes('@')) { 
                  modalStatus.textContent="Please enter a valid email."; 
                  modalStatus.style.color="#ef4444"; 
                  return; 
              }
              modalSubmit.disabled=true; 
              modalSubmit.textContent="Processing..."; 
              modalStatus.textContent="";
              
              const { error } = await subscribeClient.from('subscribers').insert([{ email }]);
              if(error) {
                   if(error.code==='23505') { 
                       modalStatus.textContent="You are already subscribed!"; 
                       modalStatus.style.color="#3b82f6"; 
                   }
                   else { 
                       modalStatus.textContent="Error. Try again."; 
                       modalStatus.style.color="#ef4444"; 
                   }
                   modalSubmit.disabled=false; 
                   modalSubmit.textContent="Subscribe Free"; 
                   return;
              }
              modalStatus.textContent="Subscribed!"; 
              modalStatus.style.color="#22c55e";
              if(modalEmail) modalEmail.value="";
              setTimeout(closeModal, 1200);
          });
      }
  </script>

</body>
</html>
